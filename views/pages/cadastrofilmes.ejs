<!DOCTYPE html>
<html>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!-- HTML5Shiv -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Estilo customizado -->
    <link rel="stylesheet" type="text/css" href="css/novofilme.css">
    <title>Teste Login</title>
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-md navbar-light fixed-top navbar-transparente"> <!-- Barra de navegação responsiva -->
      <div class="container">

        <a href="/" class="navbar-brand"> <!-- Clicar no logo vai para página inicial -->
          <img src="imagens/image.png" width="68">
        </a>

        <button class="navbar-toggler" data-toggle="collapse" data-target="#nav-principal">
          <i class="fas fa-bars text-white"></i>
        </button>

        <div class="collapse navbar-collapse" id="nav-principal">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a href="/" class="nav-link">Home</a>
            </li>

            <li class="nav-item">
              <a href="#" class="nav-link">Ajuda</a>
            </li>

            <li class="nav-item">
              <a href="/movies" class="nav-link">Filmes</a>
            </li>

            <% if(session.cpf === "0") { %>
              <li class="nav-item"> <a class="nav-link" href="/administracao">Administração</a> </li>
            <% } %>

            <li class="nav-item">
              <a href="/logout" class="nav-link">Logout</a>
            </li>

          </ul>
        </div>

      </div>
    </nav>
  </header>
  <div id="form-container" class="formcontainer" >
    <form action="/cadastrarfilme" method="POST">
                    
      <div class="mb-3">
          <label for="nome">Nome:</label>
          <input type="text" name="nome" id="nome" required>
      </div>
      <div class="mb-3">
          <label for="ano">Ano:</label>
          <input type="number" name="ano" id="ano" required>
      </div>
      <div class="mb-3">
          <label for="diretor">Diretor:</label>
          <input type="text" name="diretor" id="diretor" required>          
      </div>
      <div class="mb-3">
          <label for="notaIMDB">Nota IMDb:</label>
          <input type="number" step="0.1" name="notaIMDB" id="notaIMDB" required>          
      </div>
      <div class="mb-3">
          <label for="classificacao">Classificação:</label>
          <input type="text" name="classificacao" id="classificacao" required>
      </div>
      <div class="mb-3">
        <label for="sinopse">Sinopse:</label>
        <input type="text" name="sinopse" id="classificacao" required>
      </div>
      
      <div class="mb-3">
          <label for="genero">Gênero:</label>
          <div class="form-group col-md">
            <select id="generos" class="form-control" name="generos" multiple>
                <% for(var i=0; i<genero.length; i++) { %>
                    <option value="<%= genero[i].nome %>"><%= genero[i].nome %></option>
                <% } %>
            </select>
          </div>
      </div>
      <div class="mb-3">
          <div id="atores">
              <label for="ator1">Ator/Atriz:</label>
              <input type="text" name="ator1" id="ator1" required>
            </div>
          
            <button type="button" onclick="adicionarAtor()">Adicionar Ator/Atriz</button> 
      </div>

      <input type="submit" class="btn btn-primary" value="Enviar" > 
    </div>
  </form>
  </div>

  <script>
    let contadorAtor = 1;

    function adicionarAtor() {
      contadorAtor++;
      const divAtores = document.getElementById('atores');

      const labelAtor = document.createElement('label');
      labelAtor.setAttribute('for', 'ator' + contadorAtor);
      labelAtor.textContent = 'Ator/Atriz:';
      divAtores.appendChild(labelAtor);

      const inputAtor = document.createElement('input');
      inputAtor.setAttribute('type', 'text');
      inputAtor.setAttribute('name', 'ator' + contadorAtor);
      inputAtor.setAttribute('id', 'ator' + contadorAtor);
      inputAtor.setAttribute('required', true);
      divAtores.appendChild(inputAtor);
      
      const br = document.createElement('br');
      divAtores.appendChild(br);
    }
  </script>

</body>
</html>